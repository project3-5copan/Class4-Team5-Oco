{"ast":null,"code":"import { heikinAshi } from \"../calculator\";\nimport baseIndicator from \"./baseIndicator\";\nimport { merge, rebind } from \"../utils\";\nvar ALGORITHM_TYPE = \"HeikinAshi\";\nexport default function () {\n  var base = baseIndicator().type(ALGORITHM_TYPE).accessor(function (d) {\n    return d.ha;\n  });\n  var underlyingAlgorithm = heikinAshi();\n  var mergedAlgorithm = merge().algorithm(underlyingAlgorithm).merge(function (datum, i) {\n    return Object.assign(Object.assign({}, datum), i);\n  });\n\n  var indicator = function indicator(data) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      merge: true\n    };\n\n    if (options.merge) {\n      if (!base.accessor()) {\n        throw new Error(\"Set an accessor to \".concat(ALGORITHM_TYPE, \" before calculating\"));\n      }\n\n      return mergedAlgorithm(data);\n    }\n\n    return underlyingAlgorithm(data);\n  };\n\n  rebind(indicator, base, \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n  rebind(indicator, mergedAlgorithm, \"merge\");\n  return indicator;\n}","map":null,"metadata":{},"sourceType":"module"}