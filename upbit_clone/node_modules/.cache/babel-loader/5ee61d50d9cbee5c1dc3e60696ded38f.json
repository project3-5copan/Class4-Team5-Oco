{"ast":null,"code":"import _classCallCheck from \"/Users/taehyunpark/Desktop/Work/Class4-Team5-Oco/upbit_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/taehyunpark/Desktop/Work/Class4-Team5-Oco/upbit_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/taehyunpark/Desktop/Work/Class4-Team5-Oco/upbit_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/taehyunpark/Desktop/Work/Class4-Team5-Oco/upbit_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/taehyunpark/Desktop/Work/Class4-Team5-Oco/upbit_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { format } from \"d3-format\";\nimport * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nimport { isDefined } from \"@react-financial-charts/core\";\nimport { HoverTextNearMouse } from \"./components\";\nimport { getValueFromOverride, isHoverForInteractiveType, saveNodeType, terminate } from \"./utils\";\nimport { EachInteractiveYCoordinate } from \"./wrapper\";\nexport var InteractiveYCoordinate = /*#__PURE__*/function (_React$Component) {\n  _inherits(InteractiveYCoordinate, _React$Component);\n\n  var _super = _createSuper(InteractiveYCoordinate);\n\n  function InteractiveYCoordinate(props) {\n    var _this;\n\n    _classCallCheck(this, InteractiveYCoordinate);\n\n    _this = _super.call(this, props);\n\n    _this.handleDelete = function (e, index, moreProps) {\n      var _this$props = _this.props,\n          onDelete = _this$props.onDelete,\n          yCoordinateList = _this$props.yCoordinateList;\n\n      if (onDelete !== undefined && index !== undefined) {\n        onDelete(e, yCoordinateList[index], moreProps);\n      }\n    };\n\n    _this.handleDragComplete = function (e, moreProps) {\n      var override = _this.state.override;\n\n      if (isDefined(override)) {\n        var yCoordinateList = _this.props.yCoordinateList;\n        var newAlertList = yCoordinateList.map(function (each, idx) {\n          var selected = idx === override.index;\n          return selected ? Object.assign(Object.assign({}, each), {\n            yValue: override.yValue,\n            selected: selected\n          }) : Object.assign(Object.assign({}, each), {\n            selected: selected\n          });\n        });\n        var draggedAlert = newAlertList[override.index];\n\n        _this.setState({\n          override: null\n        }, function () {\n          var onDragComplete = _this.props.onDragComplete;\n\n          if (onDragComplete !== undefined) {\n            onDragComplete(e, newAlertList, moreProps, draggedAlert);\n          }\n        });\n      }\n    };\n\n    _this.handleDrag = function (_, index, yValue) {\n      _this.setState({\n        override: {\n          index: index,\n          yValue: yValue\n        }\n      });\n    };\n\n    _this.terminate = terminate.bind(_assertThisInitialized(_this));\n    _this.saveNodeType = saveNodeType.bind(_assertThisInitialized(_this));\n    _this.getSelectionState = isHoverForInteractiveType(\"yCoordinateList\").bind(_assertThisInitialized(_this));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(InteractiveYCoordinate, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var yCoordinateList = this.props.yCoordinateList;\n      var override = this.state.override;\n      return React.createElement(\"g\", null, yCoordinateList.map(function (each, idx) {\n        var props = each;\n        return React.createElement(EachInteractiveYCoordinate, Object.assign({\n          key: each.id,\n          ref: _this2.saveNodeType(idx),\n          index: idx\n        }, props, {\n          selected: each.selected,\n          yValue: getValueFromOverride(override, idx, \"yValue\", each.yValue),\n          onDelete: _this2.handleDelete,\n          onDrag: _this2.handleDrag,\n          onDragComplete: _this2.handleDragComplete,\n          edgeInteractiveCursor: \"react-financial-charts-move-cursor\"\n        }));\n      }));\n    }\n  }]);\n\n  return InteractiveYCoordinate;\n}(React.Component);\nInteractiveYCoordinate.defaultProps = {\n  defaultPriceCoordinate: {\n    bgFill: \"#FFFFFF\",\n    bgOpacity: 1,\n    stroke: \"#6574CD\",\n    strokeOpacity: 1,\n    strokeDasharray: \"ShortDash2\",\n    strokeWidth: 1,\n    textFill: \"#6574CD\",\n    fontFamily: \"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif\",\n    fontSize: 12,\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    text: \"Alert\",\n    textBox: {\n      height: 24,\n      left: 20,\n      padding: {\n        left: 10,\n        right: 5\n      },\n      closeIcon: {\n        padding: {\n          left: 5,\n          right: 8\n        },\n        width: 8\n      }\n    },\n    edge: {\n      stroke: \"#6574CD\",\n      strokeOpacity: 1,\n      strokeWidth: 1,\n      fill: \"#FFFFFF\",\n      fillOpacity: 1,\n      orient: \"right\",\n      at: \"right\",\n      arrowWidth: 10,\n      dx: 0,\n      rectWidth: 50,\n      rectHeight: 20,\n      displayFormat: format(\".2f\")\n    }\n  },\n  hoverText: Object.assign(Object.assign({}, HoverTextNearMouse.defaultProps), {\n    enable: true,\n    bgHeight: 18,\n    bgWidth: 175,\n    text: \"Click and drag the edge circles\"\n  }),\n  yCoordinateList: []\n};\nInteractiveYCoordinate.contextTypes = {\n  subscribe: PropTypes.func.isRequired,\n  unsubscribe: PropTypes.func.isRequired,\n  generateSubscriptionId: PropTypes.func.isRequired,\n  chartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired\n};","map":null,"metadata":{},"sourceType":"module"}